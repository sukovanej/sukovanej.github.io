(this["webpackJsonppython-weekend"]=this["webpackJsonppython-weekend"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(17),o=n.n(r),i=(n(72),n(5)),s=n(7),l=n(9),u=n(24),d=(n(73),n(74),n(107)),j=n(108),b=n(64),g=n(110),h=n(111),O=n(1),f="backendUrl";function m(){var e=Object(c.useState)(window.localStorage.getItem(f)||""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1];return n.toLowerCase().includes("milan")?document.body.style.animationName="move":document.body.style.animationName="",Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{variant:"primary",onClick:function(){return l(!0)},style:{marginRight:"15px"},children:"Settings"}),Object(O.jsxs)(g.a,{show:s,onHide:function(){return l(!1)},children:[Object(O.jsx)(g.a.Header,{closeButton:!0,children:Object(O.jsx)(g.a.Title,{children:"Settings"})}),Object(O.jsx)(g.a.Body,{children:Object(O.jsx)(h.a,{children:Object(O.jsxs)(h.a.Group,{className:"mb-3",controlId:"origin",children:[Object(O.jsx)(h.a.Label,{children:"Backend URL"}),Object(O.jsx)(h.a.Control,{type:"text",placeholder:"for example http://localhost:8080",value:n,onChange:function(e){return a(e.target.value)}})]})})}),Object(O.jsxs)(g.a.Footer,{children:[Object(O.jsx)(b.a,{variant:"secondary",onClick:function(){return l(!1)},children:"Close"}),Object(O.jsx)(b.a,{variant:"primary",onClick:function(){!function(e){window.localStorage.setItem(f,e)}(n),l(!1)},children:"Save Changes"})]})]})]})}var p=n(55),x=n.n(p),v=u.d({origin:u.c,destination:u.c,departure:u.c,arrival:u.c}),y=u.a(v);var k=n(106),S=n(65),w=n(109);function C(e){var t=e.whisperList,n=e.onClick;if(0===t.length)return null;var c=t.map((function(e,t){return Object(O.jsx)(w.a.Item,{eventKey:"2",onClick:function(){return n(e)},children:e},t)}));return Object(O.jsxs)(w.a.Menu,{show:!0,children:[Object(O.jsx)(w.a.Header,{children:"Do you mean"}),c]})}function I(e){var t=e.onChange,n=e.onFail,a=e.value,r=e.placeholder,o=Object(c.useState)([]),s=Object(i.a)(o,2),l=s[0],u=s[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a.Control,{type:"text",placeholder:r,value:a,onChange:function(e){t(e.target.value),""===e.target.value?u([]):function(e,t,n){var c={text:e},a=window.localStorage.getItem(f);x.a.get("".concat(a,"/whisper"),{headers:{accept:"application/json"},params:c}).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}(e.target.value,(function(e){return u(e)}),(function(e){return n(e)}))},onKeyDown:function(e){"Escape"===e.key&&u([])}}),Object(O.jsx)(C,{whisperList:l,onClick:function(e){u([]),t(e)}})]})}function N(e){var t=e.onSubmit,n=e.origin,c=e.setOrigin,a=e.destination,r=e.setDestination,o=e.departure,i=e.setDeparture,s=e.fetchInProgress,l=e.onWhisperFail,u=s?"Fetching...":"Search",d=s?"outline-success":"success";return Object(O.jsxs)(h.a,{children:[Object(O.jsxs)(h.a.Group,{as:k.a,className:"mb-3",controlId:"origin",children:[Object(O.jsx)(h.a.Label,{column:!0,sm:"2",children:"Origin"}),Object(O.jsx)(S.a,{sm:"10",children:Object(O.jsx)(I,{onFail:l,value:n,onChange:function(e){return c(e)},placeholder:"origin"})})]}),Object(O.jsxs)(h.a.Group,{as:k.a,className:"mb-3",controlId:"destination",children:[Object(O.jsx)(h.a.Label,{column:!0,sm:"2",children:"Destination"}),Object(O.jsx)(S.a,{sm:"10",children:Object(O.jsx)(I,{onFail:l,value:a,onChange:function(e){return r(e)},placeholder:"destination"})})]}),Object(O.jsxs)(h.a.Group,{as:k.a,className:"mb-3",controlId:"departure",children:[Object(O.jsx)(h.a.Label,{column:!0,sm:"2",children:"Departure"}),Object(O.jsx)(S.a,{sm:"10",children:Object(O.jsx)(h.a.Control,{type:"date",placeholder:"Departure",value:o,onChange:function(e){return i(e.target.value)}})})]}),Object(O.jsx)(b.a,{variant:d,type:"button",onClick:function(){return t(n,a,o)},children:u})]})}function F(e){var t=e.offer;return Object(O.jsxs)("div",{className:"offer-block",children:[Object(O.jsxs)("h1",{children:[t.origin," - ",t.destination," (",t.departure,")"]}),Object(O.jsxs)("p",{children:["Departure: ",t.departure," ",Object(O.jsx)("br",{}),"Arrival: ",t.arrival," ",Object(O.jsx)("br",{}),"From: ",t.origin," ",Object(O.jsx)("br",{}),"To: ",t.destination]})]})}function D(e){var t=e.offers;if(null==t)return Object(O.jsx)("div",{children:"Nothing there yet"});var n=t.map((function(e){return Object(O.jsx)(F,{offer:e})}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:"banana-dance-dancing-banana.gif",alt:"Milan je dement"}),n]})}function L(e){var t=e.position;return Object(O.jsx)("div",{id:"barcelona",style:{backgroundImage:"url('./lizard2.png')",backgroundSize:"cover",animationPlayState:t?"running":"paused",display:t?"inline-block":"none",top:t}})}var P=n(66);function z(){return Object(O.jsx)(P.DepthOfFieldSnowfall,{count:150,style:{color:"#fff",position:"absolute",width:"95%",height:"95%",zIndex:"-1",backgroundColor:"235E6F"}})}var B={backgroundImage:"url(./cube.png)",backgroundPosition:"0px 0px"},G={backgroundImage:"url(./cube.png)",backgroundPosition:"0px 40px"};var H=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),g=o[0],h=o[1],p=Object(c.useState)(!1),v=Object(i.a)(p,2),k=v[0],S=v[1],w=Object(c.useState)(!1),C=Object(i.a)(w,2),I=C[0],F=C[1],P=Object(c.useState)([]),H=Object(i.a)(P,2),J=H[0],M=H[1],T=Object(c.useState)(""),E=Object(i.a)(T,2),W=E[0],K=E[1],R=Object(c.useState)(""),U=Object(i.a)(R,2),A=U[0],Y=U[1],q=Object(c.useState)(""),Q=Object(i.a)(q,2),V=Q[0],X=Q[1],Z=function(){g&&de()};document.body.onclick=Z,document.body.onkeydown=Z;var $=Object(c.useState)(!1),_=Object(i.a)($,2),ee=_[0],te=_[1],ne=Object(c.useState)("not-started"),ce=Object(i.a)(ne,2),ae=ce[0],re=ce[1],oe=Object(c.useState)(""),ie=Object(i.a)(oe,2),se=ie[0],le=ie[1];k?(document.body.style.backgroundImage="url(./dedove.jpg)",document.body.style.backgroundSize="100% auto"):ee?(document.body.style.backgroundImage="url(./milan.jpg)",document.body.style.backgroundSize="100% auto"):I?(document.body.style.backgroundImage="url(./kun.jpeg)",document.body.style.backgroundSize="100% auto"):(document.body.style.backgroundImage="",document.body.style.backgroundColor="#fff");var ue=k?B:G,de=function(){var e=600*Math.random()+20;M(J.concat([e]))};return Object(O.jsxs)(O.Fragment,{children:[J.map((function(e){return Object(O.jsx)(L,{position:e})})),Object(O.jsx)("div",{className:"bg"}),Object(O.jsx)(z,{}),Object(O.jsx)("div",{className:"kiwi-color-top"}),Object(O.jsx)(d.a,{children:Object(O.jsxs)("div",{className:"content-wrapper",children:[Object(O.jsx)("div",{style:{margin:"0 auto"},children:Object(O.jsx)("h1",{children:"Python weekend search"})}),Object(O.jsxs)("div",{className:"navbar",children:[Object(O.jsx)("img",{style:{float:"left"},src:"https://images.kiwi.com/common/kiwicom-logo.svg",alt:"kiwi-banner"}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(m,{}),Object(O.jsx)("div",{style:ue,className:"cube",onClick:function(){return S(!k)}}),Object(O.jsx)("div",{style:{backgroundImage:"url(./brno-dick.png)",backgroundPosition:"0px 40px"},className:"cube",onClick:function(){return F(!I)}}),Object(O.jsx)("div",{style:{backgroundImage:"url(./barcelona.png)",backgroundPosition:"0px 40px"},className:"cube",onClick:function(){return h(!g)}})]})]}),Object(O.jsxs)(j.a,{variant:"danger",style:{maxHeight:300,overflowY:"auto",display:""===se?"none":"block"},children:[Object(O.jsx)(b.a,{variant:"danger",style:{float:"right"},onClick:function(){return le("")},children:"Close"}),Object(O.jsx)("pre",{children:se})]}),Object(O.jsxs)("div",{className:"container-content",children:[Object(O.jsx)(N,{onSubmit:function(e,t,n){re("fetching"),function(e,t,n,c,a){var r={origin:e,destination:t,departure:n},o=window.localStorage.getItem(f);x.a.get("".concat(o,"/search"),{headers:{accept:"application/json"},params:r}).then((function(e){return c(y.decode(e.data))})).catch((function(e){return a(e)}))}(e,t,n,(function(e){Object(s.c)(e,l.j((function(e){a([]),re("failed"),le("Decoding failed: ".concat(u.b(e)))}),(function(e){a(e),re("success")}))),t.toLowerCase().includes("milan")?te(!0):te(!1)}),(function(e){le("Search failed: ".concat(JSON.stringify(e,null,2))),re("failed")}))},origin:W,setOrigin:K,destination:A,setDestination:Y,departure:V,setDeparture:X,fetchInProgress:"fetching"===ae,onWhisperFail:function(e){return le("Whisper failed: ".concat(JSON.stringify(e,null,2)))}}),Object(O.jsx)("div",{style:{height:10}}),Object(O.jsx)(D,{offers:n})]})]})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(H,{})}),document.getElementById("root")),J()},73:function(e,t,n){},74:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.bbfb692d.chunk.js.map