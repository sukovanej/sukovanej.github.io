(this["webpackJsonppython-weekend"]=this["webpackJsonppython-weekend"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(18),i=n.n(a),s=(n(68),n(5)),o=(n(69),n(70),n(100)),l=n(101),j=n(57),u=n(103),d=n(104),b=n(1),h="backendUrl";function O(){var e=Object(c.useState)(window.localStorage.getItem(h)||""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),o=i[0],l=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{variant:"primary",onClick:function(){return l(!0)},style:{marginRight:"15px"},children:"Settings"}),Object(b.jsxs)(u.a,{show:o,onHide:function(){return l(!1)},children:[Object(b.jsx)(u.a.Header,{closeButton:!0,children:Object(b.jsx)(u.a.Title,{children:"Settings"})}),Object(b.jsx)(u.a.Body,{children:Object(b.jsx)(d.a,{children:Object(b.jsxs)(d.a.Group,{className:"mb-3",controlId:"origin",children:[Object(b.jsx)(d.a.Label,{children:"Backend URL"}),Object(b.jsx)(d.a.Control,{type:"text",placeholder:"Origin",value:n,onChange:function(e){return r(e.target.value)}})]})})}),Object(b.jsxs)(u.a.Footer,{children:[Object(b.jsx)(j.a,{variant:"secondary",onClick:function(){return l(!1)},children:"Close"}),Object(b.jsx)(j.a,{variant:"primary",onClick:function(){!function(e){window.localStorage.setItem(h,e)}(n),l(!1)},children:"Save Changes"})]})]})]})}var g=n(47),f=n.n(g);var x=n(99),m=n(58),p=n(102);function v(e){var t=e.whisperList,n=e.onClick;if(0===t.length)return null;var c=t.map((function(e,t){return Object(b.jsx)(p.a.Item,{eventKey:"2",onClick:function(){return n(e)},children:e},t)}));return Object(b.jsxs)(p.a.Menu,{show:!0,children:[Object(b.jsx)(p.a.Header,{children:"Do you mean"}),c]})}function y(e){var t=e.onChange,n=e.value,r=Object(c.useState)([]),a=Object(s.a)(r,2),i=a[0],o=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d.a.Control,{type:"text",placeholder:"Origin",value:n,onChange:function(e){t(e.target.value),""===e.target.value?o([]):function(e,t,n){var c={text:e},r=window.localStorage.getItem(h);f.a.get("".concat(r,"/whisper"),{headers:{accept:"application/json"},params:c}).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}(e.target.value,(function(e){return o(e)}),(function(e){return console.log(JSON.stringify(e))}))},onKeyDown:function(e){"Escape"===e.key&&o([])}}),Object(b.jsx)(v,{whisperList:i,onClick:function(e){o([]),t(e)}})]})}function k(e){var t=e.onSubmit,n=e.origin,c=e.setOrigin,r=e.destination,a=e.setDestination,i=e.departure,s=e.setDeparture,o=e.fetchInProgress,l=o?"Fetching...":"Search",u=o?"outline-success":"success";return Object(b.jsxs)(d.a,{children:[Object(b.jsxs)(d.a.Group,{as:x.a,className:"mb-3",controlId:"origin",children:[Object(b.jsx)(d.a.Label,{column:!0,sm:"2",children:"Origin"}),Object(b.jsx)(m.a,{sm:"10",children:Object(b.jsx)(y,{value:n,onChange:function(e){return c(e)}})})]}),Object(b.jsxs)(d.a.Group,{as:x.a,className:"mb-3",controlId:"destination",children:[Object(b.jsx)(d.a.Label,{column:!0,sm:"2",children:"Destination"}),Object(b.jsx)(m.a,{sm:"10",children:Object(b.jsx)(y,{value:r,onChange:function(e){return a(e)}})})]}),Object(b.jsxs)(d.a.Group,{as:x.a,className:"mb-3",controlId:"departure",children:[Object(b.jsx)(d.a.Label,{column:!0,sm:"2",children:"Departure"}),Object(b.jsx)(m.a,{sm:"10",children:Object(b.jsx)(d.a.Control,{type:"datetime-local",placeholder:"Departure",value:i,onChange:function(e){return s(e.target.value)}})})]}),Object(b.jsx)(j.a,{variant:u,type:"button",onClick:function(){return t(n,r,i)},children:l})]})}function w(e){var t=e.offer;return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"delimiter.png",alt:"_",className:"center",style:{marginTop:20,marginBottom:20}}),Object(b.jsxs)("h1",{children:[t.origin," - ",t.destination]}),"(",t.departure," - ",t.arrival,")"]})}function C(e){var t=e.offers;if(null==t)return Object(b.jsx)("div",{children:"Nothing there yet"});var n=t.map((function(e){return Object(b.jsx)(w,{offer:e})}));return Object(b.jsx)("div",{children:n})}var S=n(61);function I(){return Object(b.jsx)(S.DepthOfFieldSnowfall,{count:150,style:{color:"#fff",position:"absolute",width:"95%",height:"95%",zIndex:"-1",backgroundColor:"235E6F"}})}var N=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),u=i[0],d=i[1],g=Object(c.useState)(""),x=Object(s.a)(g,2),m=x[0],p=x[1],v=Object(c.useState)(""),y=Object(s.a)(v,2),w=y[0],S=y[1],N=Object(c.useState)(""),D=Object(s.a)(N,2),F=D[0],L=D[1],B=Object(c.useState)("not-started"),P=Object(s.a)(B,2),G=P[0],J=P[1],T=Object(c.useState)(""),E=Object(s.a)(T,2),H=E[0],z=E[1];return u?(document.body.style.backgroundImage="url(http://localhost:3000/dedove.jpg)",document.body.style.backgroundSize="100% auto"):(document.body.style.backgroundImage="",document.body.style.backgroundColor="#fff"),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"bg"}),Object(b.jsx)(I,{}),Object(b.jsx)("div",{className:"kiwi-color-top"}),Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"content-wrapper",children:[Object(b.jsx)("div",{style:{margin:"0 auto"},children:Object(b.jsx)("h1",{children:"Python weekend search"})}),Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)("img",{style:{float:"left"},src:"https://images.kiwi.com/common/kiwicom-logo.svg",alt:"kiwi-banner"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{}),Object(b.jsx)("img",{src:"cube.png",alt:"cube",className:"tree-btn",onClick:function(){return d(!u)}})]})]}),Object(b.jsxs)(l.a,{variant:"danger",style:{display:"failed"===G?"block":"none"},children:[Object(b.jsx)(j.a,{variant:"danger",style:{float:"right"},onClick:function(){return J("not-started")},children:"Close"}),Object(b.jsx)("pre",{children:H})]}),Object(b.jsxs)("div",{className:"container-content",children:[Object(b.jsx)(k,{onSubmit:function(e,t,n){J("fetching"),function(e,t,n,c,r){var a={origin:e,destination:t,departure:n},i=window.localStorage.getItem(h);f.a.get("".concat(i,"/search"),{headers:{accept:"application/json"},params:a}).then((function(e){return c(e.data)})).catch((function(e){return r(e)}))}(e,t,n,(function(e){r(e),J("success")}),(function(e){z(JSON.stringify(e,null,2)),J("failed")}))},origin:m,setOrigin:p,destination:w,setDestination:S,departure:F,setDeparture:L,fetchInProgress:"fetching"===G}),Object(b.jsx)("div",{style:{height:10}}),Object(b.jsx)(C,{offers:n})]})]})})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),D()}},[[93,1,2]]]);
//# sourceMappingURL=main.ab96a31e.chunk.js.map