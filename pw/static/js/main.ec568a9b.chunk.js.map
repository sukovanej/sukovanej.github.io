{"version":3,"sources":["Settings.tsx","SearchForm.tsx","Offer.tsx","Offers.tsx","Snowflakes.tsx","App.tsx","api.ts","reportWebVitals.ts","index.tsx"],"names":["BACKEND_URL_STORAGE_KEY","Settings","useState","window","localStorage","getItem","backendUrl","setBackendUrl","show","setShow","Button","variant","onClick","style","marginRight","Modal","onHide","Header","closeButton","Title","Body","Form","Group","className","controlId","Label","Control","type","placeholder","value","onChange","e","target","Footer","setItem","saveSettings","SearchForm","onSubmit","origin","setOrigin","destination","setDestination","departure","setDeparture","fetchInProgress","buttonText","buttonVariant","as","Row","column","sm","Col","Offer","offer","src","alt","marginTop","marginBottom","arrival","Offers","offers","elements","map","Snowflakes","count","color","position","width","height","zIndex","backgroundColor","App","setOffers","christmassEnabled","setChristmassEnabled","fetchState","setFetchState","errorMessage","setErrorMessage","document","body","backgroundImage","backgroundSize","Container","margin","float","Alert","display","onSuccess","onFail","data","apiUrl","axios","get","headers","params","then","res","catch","search","JSON","stringify","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ec568a9b.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { Form, Button, Modal } from \"react-bootstrap\";\n\nexport const BACKEND_URL_STORAGE_KEY = \"backendUrl\";\n\nfunction saveSettings(backendUrl: string): void {\n  window.localStorage.setItem(BACKEND_URL_STORAGE_KEY, backendUrl);\n}\n\nexport default function Settings(): JSX.Element {\n  const [backendUrl, setBackendUrl] = useState<string>(window.localStorage.getItem(BACKEND_URL_STORAGE_KEY) || \"\");\n  const [show, setShow] = useState(false);\n\n  const save = () => {\n    saveSettings(backendUrl);\n    setShow(false);\n  };\n\n  return (\n    <>\n      <Button variant=\"primary\" onClick={() => setShow(true)} style={{ marginRight: \"15px\" }}>\n        Settings\n      </Button>\n\n      <Modal show={show} onHide={() => setShow(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Settings</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n\n          <Form>\n            <Form.Group className=\"mb-3\" controlId=\"origin\">\n              <Form.Label>Backend URL</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Origin\"\n                value={backendUrl}\n                onChange={(e) => setBackendUrl(e.target.value)}\n              />\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShow(false)}>\n            Close\n          </Button>\n          <Button variant=\"primary\" onClick={save}>\n            Save Changes\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","import { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { ButtonVariant } from \"react-bootstrap/esm/types\";\n\ninterface SearchFormProps {\n  onSubmit: (\n    origin: string,\n    destination: string,\n    departure: string\n  ) => void;\n  origin: string;\n  setOrigin: (_: string) => void;\n  destination: string;\n  setDestination: (_: string) => void;\n  departure: string;\n  setDeparture: (_: string) => void;\n  fetchInProgress: boolean;\n}\n\nexport default function SearchForm({ onSubmit,\n  origin,\n  setOrigin,\n  destination,\n  setDestination,\n  departure,\n  setDeparture,\n  fetchInProgress,\n}: SearchFormProps): JSX.Element {\n  const buttonText = fetchInProgress ? 'Fetching...' : 'Search';\n  const buttonVariant: ButtonVariant = fetchInProgress ? 'outline-success' : 'success';\n\n  return (\n    <Form>\n        <Form.Group as={Row} className=\"mb-3\" controlId=\"origin\">\n          <Form.Label column sm=\"2\">Origin</Form.Label>\n          <Col sm=\"10\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Origin\"\n              value={origin}\n              onChange={(e) => setOrigin(e.target.value)}\n            />\n          </Col>\n        </Form.Group>\n\n      <Form.Group as={Row} className=\"mb-3\" controlId=\"destination\">\n        <Form.Label column sm=\"2\">Destination</Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Destination\"\n            value={destination}\n            onChange={(e) => setDestination(e.target.value)}\n          />\n        </Col>\n      </Form.Group>\n\n      <Form.Group as={Row} className=\"mb-3\" controlId=\"departure\">\n        <Form.Label column sm=\"2\">Departure</Form.Label>\n        <Col sm=\"10\">\n          <Form.Control\n            type=\"datetime-local\"\n            placeholder=\"Departure\"\n            value={departure}\n            onChange={(e) => setDeparture(e.target.value)}\n          />\n        </Col>\n      </Form.Group>\n\n      <Button variant={buttonVariant} type=\"button\" onClick={() => onSubmit(origin, destination, departure)}>\n        {buttonText}\n      </Button>\n    </Form>\n  );\n}\n","import { SearchResponseItem } from \"./models\";\n\ninterface OfferProps {\n  offer: SearchResponseItem;\n}\n\nexport default function Offer({ offer }: OfferProps) {\n  return (\n    <div>\n      <img src=\"delimiter.png\" alt=\"_\" className=\"center\" style={{marginTop: 20, marginBottom: 20}} />\n      <h1>{offer.origin} - {offer.destination}</h1>\n      ({offer.departure} - {offer.arrival})\n    </div>\n  );\n}\n","import { SearchResponseItem } from \"./models\";\n\nimport Offer from \"./Offer\";\n\ninterface OffersProps {\n  offers: SearchResponseItem[] | null;\n}\n\nexport default function Offers({ offers }: OffersProps): JSX.Element {\n  if (offers == null) {\n    return <div>Nothing there yet</div>;\n  }\n\n  const elements = offers.map((offer: SearchResponseItem) => (\n    <Offer offer={offer} />\n  ));\n\n  return <div>{elements}</div>;\n}\n","import { DepthOfFieldSnowfall } from 'react-snowflakes';\n\nexport default function Snowflakes() {\n  return (\n      <DepthOfFieldSnowfall count={150}\n        style={{\n          // Position must be relative or absolute,\n          // because snowflakes are positioned absolutely.\n          color: '#fff',\n          position: 'absolute',\n          width: '95%',\n          height: '95%',\n          zIndex: '-1',\n          backgroundColor: \"235E6F\",\n        }} />\n  );\n}\n","import { useState } from \"react\";\n\nimport \"./App.css\";\nimport \"./Tree.css\";\n\nimport { Alert, Button, Container } from \"react-bootstrap\";\n\nimport { SearchResponseItem } from \"./models\";\n\nimport { search } from \"./api\";\n\nimport SearchForm from \"./SearchForm\";\nimport Offers from \"./Offers\";\nimport Settings from \"./Settings\";\nimport Snowflakes from \"./Snowflakes\";\n\nfunction setChristmassTheme() {\n  document.body.style.backgroundImage = \"url(http://localhost:3000/dedove.jpg)\";\n  document.body.style.backgroundSize = \"100% auto\";\n}\n\nfunction setNormalTheme() {\n  document.body.style.backgroundImage = \"\";\n  document.body.style.backgroundColor = \"#fff\";\n}\n\ntype FetchState = \"not-started\" | \"fetching\" | \"success\" | \"failed\";\n\nfunction App() {\n  const [offers, setOffers] = useState<null | SearchResponseItem[]>(null);\n  const [christmassEnabled, setChristmassEnabled] = useState(false);\n  const [origin, setOrigin] = useState<string>(\"\");\n  const [destination, setDestination] = useState<string>(\"\");\n  const [departure, setDeparture] = useState<string>(\"\");\n\n  const [fetchState, setFetchState] = useState<FetchState>(\"not-started\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  if (christmassEnabled) {\n    setChristmassTheme();\n  } else {\n    setNormalTheme();\n  }\n\n  const onSubmit = (\n    origin: string,\n    destination: string,\n    departure: string,\n  ): void => {\n    setFetchState(\"fetching\");\n    search(origin, destination, departure, (offers) => {\n      setOffers(offers);\n      setFetchState(\"success\");\n    }, (e) => {\n      setErrorMessage(JSON.stringify(e, null, 2));\n      setFetchState(\"failed\");\n    });\n  };\n\n  return (\n    <>\n      <div className=\"bg\"></div>\n      <Snowflakes />\n      <div className=\"kiwi-color-top\"></div>\n      <Container>\n        <div className=\"content-wrapper\">\n          <div style={{ margin: \"0 auto;\"}}>\n            <h1>Python weekend search</h1>\n          </div>\n\n          <div className=\"navbar\">\n            <img style={{ float: \"left\" }} src=\"https://images.kiwi.com/common/kiwicom-logo.svg\" alt=\"kiwi-banner\" />\n\n            <div>\n              <Settings />\n              <img src=\"cube.png\" alt=\"cube\" className=\"tree-btn\" onClick={() => setChristmassEnabled(!christmassEnabled)} />\n            </div>\n          </div>\n\n          <Alert variant=\"danger\" style={{ display: fetchState === \"failed\" ? \"block\" : \"none\" }}>\n            <Button variant=\"danger\" style={{ float: \"right\" }} onClick={() => setFetchState(\"not-started\")}>Close</Button>\n            <pre>{errorMessage}</pre>\n          </Alert>\n\n          <div className=\"container-content\">\n            <SearchForm\n              onSubmit={onSubmit}\n              origin={origin}\n              setOrigin={setOrigin}\n              destination={destination}\n              setDestination={setDestination}\n              departure={departure}\n              setDeparture={setDeparture}\n              fetchInProgress={fetchState === \"fetching\"}\n            />\n            <div style={{ height: 10 }}></div>\n            <Offers offers={offers} />\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import { SearchResponseItem } from \"./models\";\nimport { BACKEND_URL_STORAGE_KEY } from \"./Settings\";\nimport axios from \"axios\";\n\nexport function search(\n  origin: string,\n  destination: string,\n  departure: string,\n  onSuccess: (response: SearchResponseItem[]) => void,\n  onFail: (e: any) => void\n): void {\n  const data = { origin, destination, departure };\n  const apiUrl = window.localStorage.getItem(BACKEND_URL_STORAGE_KEY);\n\n  axios\n    .get(`${apiUrl}/search`, {\n      headers: { \"accept\": \"application/json\" },\n      params: data,\n    })\n    .then((res) => onSuccess(res.data))\n    .catch((e) => onFail(e));\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}