(this["webpackJsonppython-weekend"]=this["webpackJsonppython-weekend"]||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(20),i=n.n(r),o=(n(69),n(5)),s=n(7),l=n(9),u=n(22),j=(n(70),n(71),n(104)),d=n(105),b=n(61),h=n(107),g=n(108),O=n(1),f="backendUrl";function m(){var e=Object(c.useState)(window.localStorage.getItem(f)||""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1];return n.toLowerCase().includes("milan")?document.body.style.animationName="move":document.body.style.animationName="",Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{variant:"primary",onClick:function(){return l(!0)},style:{marginRight:"15px"},children:"Settings"}),Object(O.jsxs)(h.a,{show:s,onHide:function(){return l(!1)},children:[Object(O.jsx)(h.a.Header,{closeButton:!0,children:Object(O.jsx)(h.a.Title,{children:"Settings"})}),Object(O.jsx)(h.a.Body,{children:Object(O.jsx)(g.a,{children:Object(O.jsxs)(g.a.Group,{className:"mb-3",controlId:"origin",children:[Object(O.jsx)(g.a.Label,{children:"Backend URL"}),Object(O.jsx)(g.a.Control,{type:"text",placeholder:"for example http://localhost:8080",value:n,onChange:function(e){return a(e.target.value)}})]})})}),Object(O.jsxs)(h.a.Footer,{children:[Object(O.jsx)(b.a,{variant:"secondary",onClick:function(){return l(!1)},children:"Close"}),Object(O.jsx)(b.a,{variant:"primary",onClick:function(){!function(e){window.localStorage.setItem(f,e)}(n),l(!1)},children:"Save Changes"})]})]})]})}var x=n(52),p=n.n(x),v=u.d({origin:u.c,destination:u.c,departure:u.c,arrival:u.c}),y=u.a(v);var k=n(103),w=n(62),S=n(106);function C(e){var t=e.whisperList,n=e.onClick;if(0===t.length)return null;var c=t.map((function(e,t){return Object(O.jsx)(S.a.Item,{eventKey:"2",onClick:function(){return n(e)},children:e},t)}));return Object(O.jsxs)(S.a.Menu,{show:!0,children:[Object(O.jsx)(S.a.Header,{children:"Do you mean"}),c]})}function I(e){var t=e.onChange,n=e.onFail,a=e.value,r=e.placeholder,i=Object(c.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g.a.Control,{type:"text",placeholder:r,value:a,onChange:function(e){t(e.target.value),""===e.target.value?u([]):function(e,t,n){var c={text:e},a=window.localStorage.getItem(f);p.a.get("".concat(a,"/whisper"),{headers:{accept:"application/json"},params:c}).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}(e.target.value,(function(e){return u(e)}),(function(e){return n(e)}))},onKeyDown:function(e){"Escape"===e.key&&u([])}}),Object(O.jsx)(C,{whisperList:l,onClick:function(e){u([]),t(e)}})]})}function F(e){var t=e.onSubmit,n=e.origin,c=e.setOrigin,a=e.destination,r=e.setDestination,i=e.departure,o=e.setDeparture,s=e.fetchInProgress,l=e.onWhisperFail,u=s?"Fetching...":"Search",j=s?"outline-success":"success";return Object(O.jsxs)(g.a,{children:[Object(O.jsxs)(g.a.Group,{as:k.a,className:"mb-3",controlId:"origin",children:[Object(O.jsx)(g.a.Label,{column:!0,sm:"2",children:"Origin"}),Object(O.jsx)(w.a,{sm:"10",children:Object(O.jsx)(I,{onFail:l,value:n,onChange:function(e){return c(e)},placeholder:"origin"})})]}),Object(O.jsxs)(g.a.Group,{as:k.a,className:"mb-3",controlId:"destination",children:[Object(O.jsx)(g.a.Label,{column:!0,sm:"2",children:"Destination"}),Object(O.jsx)(w.a,{sm:"10",children:Object(O.jsx)(I,{onFail:l,value:a,onChange:function(e){return r(e)},placeholder:"destination"})})]}),Object(O.jsxs)(g.a.Group,{as:k.a,className:"mb-3",controlId:"departure",children:[Object(O.jsx)(g.a.Label,{column:!0,sm:"2",children:"Departure"}),Object(O.jsx)(w.a,{sm:"10",children:Object(O.jsx)(g.a.Control,{type:"date",placeholder:"Departure",value:i,onChange:function(e){return o(e.target.value)}})})]}),Object(O.jsx)(b.a,{variant:j,type:"button",onClick:function(){return t(n,a,i)},children:u})]})}function N(e){var t=e.offer;return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:"delimiter.png",alt:"_",className:"center",style:{marginTop:20,marginBottom:20}}),Object(O.jsxs)("h1",{children:[t.origin," - ",t.destination]}),"(",t.departure," - ",t.arrival,")"]})}function D(e){var t=e.offers;if(null==t)return Object(O.jsx)("div",{children:"Nothing there yet"});var n=t.map((function(e){return Object(O.jsx)(N,{offer:e})}));return Object(O.jsx)("div",{children:n})}var L=n(63);function P(){return Object(O.jsx)(L.DepthOfFieldSnowfall,{count:150,style:{color:"#fff",position:"absolute",width:"95%",height:"95%",zIndex:"-1",backgroundColor:"235E6F"}})}var B={backgroundImage:"url(./cube.png)",backgroundPosition:"0px 0px"},G={backgroundImage:"url(./cube.png)",backgroundPosition:"0px 40px"};var H=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),h=i[0],g=i[1],x=Object(c.useState)(""),v=Object(o.a)(x,2),k=v[0],w=v[1],S=Object(c.useState)(""),C=Object(o.a)(S,2),I=C[0],N=C[1],L=Object(c.useState)(""),H=Object(o.a)(L,2),J=H[0],T=H[1],z=Object(c.useState)(!1),E=Object(o.a)(z,2),W=E[0],K=E[1],M=Object(c.useState)("not-started"),R=Object(o.a)(M,2),U=R[0],Y=R[1],_=Object(c.useState)(""),q=Object(o.a)(_,2),A=q[0],Q=q[1];W?(document.body.style.backgroundImage="url(./milan.jpg)",document.body.style.backgroundSize="100% auto"):h?(document.body.style.backgroundImage="url(./dedove.jpg)",document.body.style.backgroundSize="100% auto"):(document.body.style.backgroundImage="",document.body.style.backgroundColor="#fff");var V=h?B:G;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"bg"}),Object(O.jsx)(P,{}),Object(O.jsx)("div",{className:"kiwi-color-top"}),Object(O.jsx)(j.a,{children:Object(O.jsxs)("div",{className:"content-wrapper",children:[Object(O.jsx)("div",{style:{margin:"0 auto"},children:Object(O.jsx)("h1",{children:"Python weekend search"})}),Object(O.jsxs)("div",{className:"navbar",children:[Object(O.jsx)("img",{style:{float:"left"},src:"https://images.kiwi.com/common/kiwicom-logo.svg",alt:"kiwi-banner"}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(m,{}),Object(O.jsx)("div",{style:V,className:"cube",onClick:function(){return g(!h)}})]})]}),Object(O.jsxs)(d.a,{variant:"danger",style:{maxHeight:300,overflowY:"auto",display:""===A?"none":"block"},children:[Object(O.jsx)(b.a,{variant:"danger",style:{float:"right"},onClick:function(){return Q("")},children:"Close"}),Object(O.jsx)("pre",{children:A})]}),Object(O.jsxs)("div",{className:"container-content",children:[Object(O.jsx)(F,{onSubmit:function(e,t,n){Y("fetching"),function(e,t,n,c,a){var r={origin:e,destination:t,departure:n},i=window.localStorage.getItem(f);p.a.get("".concat(i,"/search"),{headers:{accept:"application/json"},params:r}).then((function(e){return c(y.decode(e.data))})).catch((function(e){return a(e)}))}(e,t,n,(function(e){Object(s.c)(e,l.j((function(e){a([]),Y("failed"),Q("Decoding failed: ".concat(u.b(e)))}),(function(e){a(e),Y("success")}))),t.toLowerCase().includes("milan")?K(!0):K(!1)}),(function(e){Q("Search failed: ".concat(JSON.stringify(e,null,2))),Y("failed")}))},origin:k,setOrigin:w,destination:I,setDestination:N,departure:J,setDeparture:T,fetchInProgress:"fetching"===U,onWhisperFail:function(e){return Q("Whisper failed: ".concat(JSON.stringify(e,null,2)))}}),Object(O.jsx)("div",{style:{height:10}}),Object(O.jsx)(D,{offers:n})]})]})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(H,{})}),document.getElementById("root")),J()}},[[97,1,2]]]);
//# sourceMappingURL=main.0912b30c.chunk.js.map