(this["webpackJsonppython-weekend"]=this["webpackJsonppython-weekend"]||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(17),i=n.n(r),o=(n(66),n(5)),s=(n(67),n(68),n(99)),l=n(100),u=n(58),j=n(102),d=n(103),b=n(1),h="backendUrl";function O(){var e=Object(c.useState)(window.localStorage.getItem(h)||""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{variant:"primary",onClick:function(){return l(!0)},style:{marginRight:"15px"},children:"Settings"}),Object(b.jsxs)(j.a,{show:s,onHide:function(){return l(!1)},children:[Object(b.jsx)(j.a.Header,{closeButton:!0,children:Object(b.jsx)(j.a.Title,{children:"Settings"})}),Object(b.jsx)(j.a.Body,{children:Object(b.jsx)(d.a,{children:Object(b.jsxs)(d.a.Group,{className:"mb-3",controlId:"origin",children:[Object(b.jsx)(d.a.Label,{children:"Backend URL"}),Object(b.jsx)(d.a.Control,{type:"text",placeholder:"Origin",value:n,onChange:function(e){return a(e.target.value)}})]})})}),Object(b.jsxs)(j.a.Footer,{children:[Object(b.jsx)(u.a,{variant:"secondary",onClick:function(){return l(!1)},children:"Close"}),Object(b.jsx)(u.a,{variant:"primary",onClick:function(){!function(e){window.localStorage.setItem(h,e)}(n),l(!1)},children:"Save Changes"})]})]})]})}var g=n(49),f=n.n(g);var x=n(98),m=n(59),p=n(101);function v(e){var t=e.whisperList,n=e.onClick;if(0===t.length)return null;var c=t.map((function(e,t){return Object(b.jsx)(p.a.Item,{eventKey:"2",onClick:function(){return n(e)},children:e},t)}));return Object(b.jsxs)(p.a.Menu,{show:!0,children:[Object(b.jsx)(p.a.Header,{children:"Do you mean"}),c]})}function y(e){var t=e.onChange,n=e.onFail,a=e.value,r=Object(c.useState)([]),i=Object(o.a)(r,2),s=i[0],l=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(d.a.Control,{type:"text",placeholder:"Origin",value:a,onChange:function(e){t(e.target.value),""===e.target.value?l([]):function(e,t,n){var c={text:e},a=window.localStorage.getItem(h);f.a.get("".concat(a,"/whisper"),{headers:{accept:"application/json"},params:c}).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}(e.target.value,(function(e){return l(e)}),(function(e){return n(e)}))},onKeyDown:function(e){"Escape"===e.key&&l([])}}),Object(b.jsx)(v,{whisperList:s,onClick:function(e){l([]),t(e)}})]})}function k(e){var t=e.onSubmit,n=e.origin,c=e.setOrigin,a=e.destination,r=e.setDestination,i=e.departure,o=e.setDeparture,s=e.fetchInProgress,l=e.onWhisperFail,j=s?"Fetching...":"Search",h=s?"outline-success":"success";return Object(b.jsxs)(d.a,{children:[Object(b.jsxs)(d.a.Group,{as:x.a,className:"mb-3",controlId:"origin",children:[Object(b.jsx)(d.a.Label,{column:!0,sm:"2",children:"Origin"}),Object(b.jsx)(m.a,{sm:"10",children:Object(b.jsx)(y,{onFail:l,value:n,onChange:function(e){return c(e)}})})]}),Object(b.jsxs)(d.a.Group,{as:x.a,className:"mb-3",controlId:"destination",children:[Object(b.jsx)(d.a.Label,{column:!0,sm:"2",children:"Destination"}),Object(b.jsx)(m.a,{sm:"10",children:Object(b.jsx)(y,{onFail:l,value:a,onChange:function(e){return r(e)}})})]}),Object(b.jsxs)(d.a.Group,{as:x.a,className:"mb-3",controlId:"departure",children:[Object(b.jsx)(d.a.Label,{column:!0,sm:"2",children:"Departure"}),Object(b.jsx)(m.a,{sm:"10",children:Object(b.jsx)(d.a.Control,{type:"datetime-local",placeholder:"Departure",value:i,onChange:function(e){return o(e.target.value)}})})]}),Object(b.jsx)(u.a,{variant:h,type:"button",onClick:function(){return t(n,a,i)},children:j})]})}function w(e){var t=e.offer;return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"delimiter.png",alt:"_",className:"center",style:{marginTop:20,marginBottom:20}}),Object(b.jsxs)("h1",{children:[t.origin," - ",t.destination]}),"(",t.departure," - ",t.arrival,")"]})}function S(e){var t=e.offers;if(null==t)return Object(b.jsx)("div",{children:"Nothing there yet"});var n=t.map((function(e){return Object(b.jsx)(w,{offer:e})}));return Object(b.jsx)("div",{children:n})}var C=n(60);function I(){return Object(b.jsx)(C.DepthOfFieldSnowfall,{count:150,style:{color:"#fff",position:"absolute",width:"95%",height:"95%",zIndex:"-1",backgroundColor:"235E6F"}})}var F={backgroundImage:"url(./cube.png)",backgroundPosition:"0px 0px"},N={backgroundImage:"url(./cube.png)",backgroundPosition:"0px 40px"};var D=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),j=i[0],d=i[1],g=Object(c.useState)(""),x=Object(o.a)(g,2),m=x[0],p=x[1],v=Object(c.useState)(""),y=Object(o.a)(v,2),w=y[0],C=y[1],D=Object(c.useState)(""),L=Object(o.a)(D,2),P=L[0],B=L[1],G=Object(c.useState)("not-started"),H=Object(o.a)(G,2),J=H[0],T=H[1],E=Object(c.useState)(""),W=Object(o.a)(E,2),z=W[0],K=W[1];j?(document.body.style.backgroundImage="url(./dedove.jpg)",document.body.style.backgroundSize="100% auto"):(document.body.style.backgroundImage="",document.body.style.backgroundColor="#fff");var M=j?F:N;return console.log(j),console.log(M),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"bg"}),Object(b.jsx)(I,{}),Object(b.jsx)("div",{className:"kiwi-color-top"}),Object(b.jsx)(s.a,{children:Object(b.jsxs)("div",{className:"content-wrapper",children:[Object(b.jsx)("div",{style:{margin:"0 auto"},children:Object(b.jsx)("h1",{children:"Python weekend search"})}),Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)("img",{style:{float:"left"},src:"https://images.kiwi.com/common/kiwicom-logo.svg",alt:"kiwi-banner"}),Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)(O,{}),Object(b.jsx)("div",{style:M,className:"cube",onClick:function(){return d(!j)}})]})]}),Object(b.jsxs)(l.a,{variant:"danger",style:{maxHeight:300,overflowY:"auto",display:""===z?"none":"block"},children:[Object(b.jsx)(u.a,{variant:"danger",style:{float:"right"},onClick:function(){return K("")},children:"Close"}),Object(b.jsx)("pre",{children:z})]}),Object(b.jsxs)("div",{className:"container-content",children:[Object(b.jsx)(k,{onSubmit:function(e,t,n){T("fetching"),function(e,t,n,c,a){var r={origin:e,destination:t,departure:n},i=window.localStorage.getItem(h);f.a.get("".concat(i,"/search"),{headers:{accept:"application/json"},params:r}).then((function(e){return c(e.data)})).catch((function(e){return a(e)}))}(e,t,n,(function(e){a(e),T("success")}),(function(e){K("Search failed: ".concat(JSON.stringify(e,null,2))),T("failed")}))},origin:m,setOrigin:p,destination:w,setDestination:C,departure:P,setDeparture:B,fetchInProgress:"fetching"===J,onWhisperFail:function(e){return K("Whisper failed: ".concat(JSON.stringify(e,null,2)))}}),Object(b.jsx)("div",{style:{height:10}}),Object(b.jsx)(S,{offers:n})]})]})})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),L()}},[[92,1,2]]]);
//# sourceMappingURL=main.60b076cc.chunk.js.map